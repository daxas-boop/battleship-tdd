(this["webpackJsonpbattleship-tdd"]=this["webpackJsonpbattleship-tdd"]||[]).push([[0],{11:function(e,n,t){e.exports=t(17)},17:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(8),o=t.n(i),c=t(4),u=t(1),l=t(3),m=t.n(l),d=t(2);t(7);function f(){var e=Object(u.a)(["\n    margin-top:10px;\n    text-align:center;\n\n    @media(max-width:768px) {\n        font-size:14px;\n        margin:25px 0;\n    }\n"]);return f=function(){return e},e}function p(){var e=Object(u.a)(["\n    background-color:#eee;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n"]);return p=function(){return e},e}function s(){var e=Object(u.a)(["\n    text-align:center;\n    margin-top:20px;\n    margin-bottom:20px;\n\n    @media(max-width:768px) {\n        font-size: 14px;\n        margin:4px 0;\n    }\n"]);return s=function(){return e},e}function h(){var e=Object(u.a)(["\n    border:1px solid #002c66;\n    background-color:blue;\n"]);return h=function(){return e},e}function b(){var e=Object(u.a)(["\n    background-color: red;\n    border:1px solid #002c66;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    font-family:'Roboto';\n"]);return b=function(){return e},e}function g(){var e=Object(u.a)(["\n    background-color: #2389da;\n    border:1px solid #002c66;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n\n    @media(max-width:768px) {\n        font-size: 14px;\n    }\n"]);return g=function(){return e},e}function x(){var e=Object(u.a)(["\n    display:flex;\n    border:1px solid #002c66;\n    background-color: #2389da;\n"]);return x=function(){return e},e}function y(){var e=Object(u.a)(["\n    display:flex;\n    border:1px solid #002c66;\n    background-color: #2389da;\n    &:hover{\n        background-color: purple;\n    }\n"]);return y=function(){return e},e}function j(){var e=Object(u.a)(["\n    grid-column: 1/12;\n    display:grid;\n    grid-template-columns: repeat(11, 1fr);\n"]);return j=function(){return e},e}function v(){var e=Object(u.a)(["\n    border: 4px solid #002c66;\n    margin:10px;\n\n    @media(max-width:1366px) {\n        margin:10px 20px; \n    }\n\n    @media(max-width:1024px) {\n        margin:0;\n    }\n\n    @media(max-width:768px) {\n        margin:0;\n    }\n\n    @media(max-width:320px) {\n        margin:0;\n    }\n"]);return v=function(){return e},e}function E(){var e=Object(u.a)(["\n    display:grid;\n    grid-template-rows: repeat(11, 1fr);\n    grid-template-columns: repeat(11, 1fr);\n    grid-auto-flow: column;\n    width:500px;\n    height:500px;\n    margin:0 auto;\n    line-height:0;\n\n    @media(max-width:1366px) {\n        width:400px;\n        height:400px;\n    }\n\n    @media(max-width:1024px) {\n        width: 300px;\n        height: 300px;\n    }\n\n    @media(max-width:768px) {\n        width: 250px;\n        height: 250px;\n    }\n\n    @media(max-width:320px) {\n        width: 200px;\n        height: 200px;\n    }\n"]);return E=function(){return e},e}var k=d.a.div(E()),w=d.a.section(v()),O=d.a.div(j()),S=d.a.div(y()),N=d.a.div(x()),A=d.a.div(g()),C=d.a.div(b()),G=d.a.div(h()),I=d.a.h3(s()),M=d.a.div(p()),B=d.a.p(f()),R=function(e){var n=e.humanGameboard,t=e.aiGameboard,a=e.cellOnClick,i=e.shipsRemaining;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null,r.a.createElement(I,{style:{color:"green"}},"Your board"),r.a.createElement(k,{"data-testid":"human-gameboard"},n.map((function(e,n){return r.a.createElement(r.a.Fragment,{key:m()()},r.a.createElement(O,{key:m()()},e.map((function(e,n){return"object"===typeof e?r.a.createElement(G,{"data-testid":"ship",key:m()()}," "):0===e?r.a.createElement(N,{"data-testid":"cell-no-hover",key:m()()}):"x"===e?r.a.createElement(A,{"data-testid":"missed-shot",key:m()()},"\xd7"):"sunked ship"===e&&r.a.createElement(C,{"data-testid":"hit-ship",key:m()()},"!")})),r.a.createElement(M,{key:m()()},String.fromCharCode(65+n))),r.a.createElement(M,{key:m()()},n))}))),r.a.createElement(B,null,"Your ships alive: ",i.humanShips)),r.a.createElement(w,null,r.a.createElement(I,{style:{color:"red"}},"Enemy board"),r.a.createElement(k,{"data-testid":"ai-gameboard"},t.map((function(n,i){return r.a.createElement(r.a.Fragment,{key:m()()},r.a.createElement(O,{key:m()()},n.map((function(i,o){return"object"===typeof i||0===i?r.a.createElement(S,{"data-testid":"cell",className:"nes-pointer",key:m()(),"data-cord1":t.indexOf(n),"data-cord2":o,onClick:function(e){return a(Number(e.target.dataset.cord1),Number(e.target.dataset.cord2))},"data-player":e.player}):"x"===i?r.a.createElement(A,{"data-testid":"missed-shot",key:m()()},"\xd7"):"sunked ship"===i&&r.a.createElement(C,{"data-testid":"hit-ship",key:m()()},"!")})),r.a.createElement(M,{key:m()()},String.fromCharCode(65+i))),r.a.createElement(M,{key:m()()},i))}))),r.a.createElement(B,null,"Enemy ships alive: ",i.AIShips)))},z=t(5),D=function(e){var n=new Array(e).fill("o");return{length:e,hit:function(e){e<0||"undefined"===typeof e||n.splice(e,1,"hit")},isSunk:function(){return n.every((function(e){return"hit"===e}))}}},F=function(){var e=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],n=[D(5),D(4),D(3),D(2),D(1)],t=function(e,n){return n?{row:Math.floor(10*Math.random()),column:Math.floor(Math.random()*(10-e.length))}:{row:Math.floor(Math.random()*(10-e.length+1)),column:Math.floor(10*Math.random())}};n.forEach((function(n){var a=Math.random()>.5;if(a){for(var r=t(n,a);!T(e,r,n);)r=t(n,a);!function(n,t){for(var a=n.row,r=n.column,i=0;i<t.length;i++)e[r].splice(a,1,t),r++}(r,n)}else{for(var i=t(n);!Y(e,i,n);)i=t(n);!function(n,t){for(var a=n.row,r=n.column,i=0;i<t.length;i++)e[r].splice(a,1,t),a++}(i,n)}}));return{getBoard:function(){return e},receiveAttack:function(n,t){if("object"===typeof e[n][t]){var a=function(n,t){var a=e[n][t],r=0,i=0;if(9===n)for(;e[n][t+r]===a||"sunked ship"===e[n][t+r];)r++;else{for(;e[n][t+r]===a||"sunked ship"===e[n][t+r];)r++;for(;e[n+i][t]===a||"sunked ship"===e[n+i][t];)i++}return r>1?a.length-r:i>1?a.length-i:a.length-r}(n,t);e[n][t].hit(a),e[n][t]="sunked ship"}else e[n][t]="x"},allShipsSunk:function(){return n.every((function(e){return e.isSunk()}))},getShipsRemaining:function(){var e=0;return n.forEach((function(n){n.isSunk()||e++})),e}}},T=function(e,n,t){for(var a=n.row,r=n.column,i=0;i<=t.length;i++)if(0===r){if("object"===typeof e[r+i][a-1]||"object"===typeof e[r+i][a+1])return!1;if("object"===typeof e[r+i][a])return!1}else if(9===r){if("object"===typeof e[r-1][a+1]||"object"===typeof e[r-1][a-1])return!1;if("object"===typeof e[r-1][a])return!1}else{if("object"===typeof e[r+i][a-1]||"object"===typeof e[r+i][a+1])return!1;if("object"===typeof e[r+i][a])return!1;if("object"===typeof e[r-1][a-1]||"object"===typeof e[r-1][a+1]||"object"===typeof e[r-1][a])return!1}return!0},Y=function(e,n,t){for(var a=n.row,r=n.column,i=0;i<=t.length;i++)if(0===r){if("object"===typeof e[r][a+i]||"object"===typeof e[r][a-1])return!1;if("object"===typeof e[r+1][a+i]||"object"===typeof e[r+1][a-1])return!1}else if(9===r){if("object"===typeof e[r][a+i]||"object"===typeof e[r][a-1])return!1;if("object"===typeof e[r-1][a+i]||"object"===typeof e[r-1][a-1])return!1}else{if("object"===typeof e[r][a+i]||"object"===typeof e[r][a-1])return!1;if("object"===typeof e[r+1][a+i]||"object"===typeof e[r+1][a-1])return!1;if("object"===typeof e[r-1][a+i]||"object"===typeof e[r-1][a-1])return!1}return!0},U=function(e){return{getName:function(){return"HUMAN"},turn:!0,getGameboard:function(){return e}}},H=function(e){for(var n=[],t=0;t<10;t++)for(var a=0;a<10;a++)n.push([t,a]);return{randomAttack:function(){var e=Math.floor(Math.random()*n.length),t=n[e];return n.splice(e,1),[t[0],t[1]]},turn:!1,getGameboard:function(){return e},getName:function(){return"AI"}}},J=function(){var e=Object(a.useState)(null),n=Object(c.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(),o=Object(c.a)(i,2),u=o[0],l=o[1],m=Object(a.useState)({human:U(F()),AI:H(F())}),d=Object(c.a)(m,2),f=d[0],p=d[1];Object(a.useEffect)((function(){f&&l({humanShips:f.human.getGameboard().getShipsRemaining(),AIShips:f.AI.getGameboard().getShipsRemaining()})}),[f]);var s=function(){p((function(e){return{human:Object(z.a)(Object(z.a)({},e.human),{},{turn:!e.human.turn}),AI:Object(z.a)(Object(z.a)({},e.AI),{},{turn:!e.AI.turn})}}))},h=function(){f.human.getGameboard().allShipsSunk()?r(f.AI.getName()):f.AI.getGameboard().allShipsSunk()&&r(f.human.getName())},b=function(e,n,t){return"sunked ship"===e.getBoard()[n][t]};return{cellOnClick:function(e,n){var t=f.AI.getGameboard();if(t.receiveAttack(e,n),b(t,e,n))return p((function(e){return Object(z.a)({},e)})),void h();s(),function e(){setTimeout((function(){var n=f.AI.randomAttack(),t=n[0],a=n[1],r=f.human.getGameboard();if(r.receiveAttack(t,a),b(r,t,a))return p((function(e){return Object(z.a)({},e)})),h(),void setTimeout((function(){e()}),300);s()}),300)}()},players:f,winner:t,startNewGame:function(){var e={human:U(F()),AI:H(F())};p(e),r(null)},remainingShips:u}};function L(){var e=Object(u.a)(["\n    text-align:center;\n    margin-top:20px;\n"]);return L=function(){return e},e}function P(){var e=Object(u.a)(["\n    display:flex;\n    margin:20px;\n"]);return P=function(){return e},e}var W=d.a.section(P()),_=d.a.a(L()),q=function(){return r.a.createElement(W,{className:"message -left"},r.a.createElement("i",{className:"nes-bcrikko",style:{alignSelf:"flex-end"}}),r.a.createElement("section",{className:"nes-balloon from-left is-dark",style:{width:"75%",marginLeft:30}},r.a.createElement("p",null,"This game was created by daxas-boop."),r.a.createElement(_,{href:"https://github.com/daxas-boop/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"nes-icon github nes-pointer is-medium"}))))};function K(){var e=Object(u.a)(["\n    display:grid;\n    grid-template-rows: 50px 1fr;\n    grid-template-columns: 1fr 1fr;\n    height: 500px;\n    margin-top:20px;\n\n    @media(max-width:768px) {\n        grid-template-columns:1fr;\n        height: 300px;\n        grid-template-rows: 360px 30px 360px;\n    }\n\n    @media(max-width:320px) {\n        grid-template-columns:1fr;\n        height: 300px;\n        grid-template-rows: 300px 30px 300px;\n    }\n"]);return K=function(){return e},e}function Q(){var e=Object(u.a)(["\n    margin-top:20px;\n    text-align:center;\n"]);return Q=function(){return e},e}function V(){var e=Object(u.a)(["\n    position:absolute !important;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    height:400px;\n    width:500px;\n    border:4px solid white;\n    padding:2px;\n"]);return V=function(){return e},e}function X(){var e=Object(u.a)(["\n    position:absolute !important;\n    width:450px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border:4px solid white;\n    padding:15px;\n    text-align:center;\n    max-width:100vw;\n    \n    @media(max-width:320px) {\n        top:55%;\n        width:280px;\n    }\n"]);return X=function(){return e},e}function Z(){var e=Object(u.a)(["\n    text-align:center;\n    margin-top:20px;\n"]);return Z=function(){return e},e}function $(){var e=Object(u.a)(["\n    margin:45px auto !important;\n    display:flex;\n    flex-direction:column;\n    width:300px;\n    position:static;\n\n    @media(max-width:320px) {\n        width:250px;\n    }\n"]);return $=function(){return e},e}function ee(){var e=Object(u.a)(["\n    text-align:center;\n    margin-top:20px;\n    grid-column:1/3;\n\n    @media(max-width:768px) {\n        grid-row:2/3;\n        grid-column:1/2;\n        margin:2px;\n    }\n"]);return ee=function(){return e},e}function ne(){var e=Object(u.a)(["\n    display:flex;\n    margin:20px auto;\n"]);return ne=function(){return e},e}var te=d.a.button(ne()),ae=d.a.h3(ee()),re=d.a.div($()),ie=d.a.a(Z()),oe=d.a.div(X()),ce=d.a.div(V()),ue=d.a.h4(Q()),le=d.a.div(K()),me=function(){var e=J(),n=e.cellOnClick,t=e.players,i=e.winner,o=e.startNewGame,u=e.remainingShips,l=Object(a.useState)(!0),m=Object(c.a)(l,2),d=m[0],f=m[1],p=Object(a.useState)(!1),s=Object(c.a)(p,2),h=s[0],b=s[1],g=Object(a.useState)(!1),x=Object(c.a)(g,2),y=x[0],j=x[1],v=Object(a.useState)(!1),E=Object(c.a)(v,2),k=E[0],w=E[1];Object(a.useEffect)((function(){w(!!i)}),[i]);return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(re,{className:"nes-container is-rounded"},r.a.createElement(te,{className:"nes-btn",onClick:function(){return o(),f(!1),void b(!0)}},"New game"),r.a.createElement(te,{className:"nes-btn",onClick:function(){return j(!0)}},"How to Play"),r.a.createElement(ie,{href:"https://github.com/daxas-boop/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"nes-icon github nes-pointer is-medium"})),y&&r.a.createElement(oe,{"data-testid":"how-to-play",className:"nes-dialog is-dark"},r.a.createElement("p",null,"Click in a coordinate."),r.a.createElement("p",null,"If you hit the enemy ship keep playing."),r.a.createElement("p",null,"Otherwise it's the Computers turn."),r.a.createElement("p",null,"Whoever destroys all enemy ships first wins."),r.a.createElement(te,{className:"nes-btn is-primary",onClick:function(){return j(!1)}},"Continue"))),h&&r.a.createElement(le,null,r.a.createElement(ae,null,t.human.turn?"Your turn":"Computer's turn."),r.a.createElement(R,{cellOnClick:n,humanGameboard:t.human.getGameboard().getBoard(),aiGameboard:t.AI.getGameboard().getBoard(),shipsRemaining:u})),k&&r.a.createElement(ce,{"data-testid":"winner-container",className:"nes-dialog is-dark"},r.a.createElement(ue,null,"HUMAN"===i?"YOU WON !!":"YOU LOST :("),r.a.createElement(te,{className:"nes-btn is-primary",onClick:function(){return o()}},"Play again?"),r.a.createElement(q,null)))};function de(){var e=Object(u.a)(["\n    margin-top:10px;  \n    color: black;\n    flex-grow:2;\n    text-align:center;\n\n    @media(max-width:768px) {\n        font-size:18px;\n    }\n\n    @media(max-width:320px) {\n        font-size:14px;\n    }\n"]);return de=function(){return e},e}function fe(){var e=Object(u.a)(["\n    height:75px;\n    display:flex;\n    align-items:center;\n    border-bottom: 4px solid #D3D3D3;\n"]);return fe=function(){return e},e}var pe=d.a.header(fe()),se=d.a.h1(de()),he=function(){return r.a.createElement(pe,{className:"container"},r.a.createElement(se,null,"Battleship TDD"))};var be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,null),r.a.createElement(me,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.21bede88.chunk.js.map